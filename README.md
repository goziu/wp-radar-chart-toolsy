# レーダーチャートプラグイン (Radar Chart Toolsy)

入力された内容でレーダーチャート（スパイダーチャート）を生成するWordPress Gutenbergブロックプラグインです。

## 📋 概要

このプラグインは、WordPressのGutenbergエディタでレーダーチャートを簡単に作成・表示できるブロックを提供します。最大7項目までのデータを視覚化でき、フロントエンドではスクロールアニメーションが自動的に適用されます。

## 🚀 インストール方法

### 方法1: zipファイルからインストール

1. このリポジトリをクローンまたはダウンロード
2. `wp-radar-chart-toolsy` ディレクトリに移動
3. `npm install` を実行して依存関係をインストール
4. `npm run build` を実行してプラグインをビルド（zipファイルが生成されます）
5. 生成された `wp-radar-chart-toolsy.zip` をWordPressの管理画面からアップロード
   - WordPress管理画面 → プラグイン → 新規追加 → プラグインのアップロード
6. プラグインを有効化

### 方法2: 手動インストール

1. `wp-radar-chart-toolsy.zip` を解凍
2. `wp-radar-chart-toolsy` フォルダを `/wp-content/plugins/` にアップロード
3. WordPress管理画面からプラグインを有効化

## 📖 使い方

### ブロックの追加

1. WordPressの投稿・固定ページ編集画面を開く
2. ブロック追加ボタン（+）をクリック
3. 「ウィジェット」カテゴリから「レーダーチャート」を選択
   - または、検索バーで「レーダー」「チャート」と検索

### ブロックの設定

ブロックを選択すると、右側のサイドバーに設定パネルが表示されます。

#### チャート設定

- **チャートカラー**: カラーピッカーでチャートの色を選択
  - 囲まれた中身は自動的に50%透過で表示されます
  - デフォルト: 青（#3b82f6）

#### 項目設定

- **項目数**: 最小5項目、最大7項目まで設定可能
- **初期状態**: 5項目で表示されます
- **各項目の設定**:
  - **項目名**: テキスト入力で項目の名前を設定
  - **値**: レンジコントロール（スライダー）で0～10の値を1刻みで設定
- **項目の追加**: 「項目を追加（最大7項目）」ボタンで項目を追加
- **項目の削除**: 各項目の「削除」ボタンで削除（最小5項目を維持）

### リアルタイムプレビュー

エディタ内で設定を変更すると、リアルタイムでチャートが更新され、実際のデザインを確認できます。

### フロントエンド表示

- 投稿・固定ページを公開すると、フロントエンドにレーダーチャートが表示されます
- チャートはスクロールで要素が読み込まれたときに、塗りつぶし部分が0から広がるアニメーションが自動的に実行されます

## ⚙️ 仕様

### ブロック仕様

- **ブロック名**: `wp-radar-chart-toolsy/radar-chart`
- **表示名**: レーダーチャート
- **カテゴリ**: ウィジェット
- **アイコン**: chart-line
- **検索キーワード**: radar, chart, レーダー, チャート

### データ仕様

- **項目数**: 最小5項目、最大7項目
- **値の範囲**: 0～10（1刻み）
- **初期値**: 各項目とも5
- **初期項目数**: 5項目

### チャート仕様

- **最大値**: 10
- **グリッドレベル**: 5段階
- **透過度**: 塗りつぶし部分は50%透過（#80）
- **アニメーション**: スクロール読み込み時に0から値まで拡張

### 技術仕様

- **WordPressバージョン**: 5.0以上（Gutenberg対応）
- **PHPバージョン**: 7.4以上推奨
- **JavaScriptライブラリ**: Chart.js 4.4.0（CDN経由）
- **ビルドツール**: @wordpress/scripts

## 🛠️ 開発方法

### 必要な環境

- Node.js 16以上
- npm または yarn

### セットアップ

```bash
# 依存関係のインストール
npm install

# 開発モード（ホットリロード）
npm start

# 本番ビルド
npm run build
```

### プロジェクト構造

```
wp-radar-chart-toolsy/
├── wp-radar-chart-toolsy.php  # メインプラグインファイル
├── src/                        # ソースファイル
│   ├── block.json             # ブロック定義
│   ├── index.js               # エディタ用JavaScript
│   ├── editor.css             # エディタ用スタイル
│   ├── style.css              # ブロック用スタイル
│   ├── frontend.js            # フロントエンド用JavaScript
│   └── frontend.css           # フロントエンド用スタイル
├── build/                      # ビルド後のファイル（自動生成）
│   ├── block.json
│   ├── index.js
│   ├── index.css
│   ├── frontend.js
│   └── frontend.css
├── package.json
├── webpack.config.js
└── README.md
```

### ビルドスクリプト

- `npm start`: 開発モードで起動（ホットリロード対応）
- `npm run build`: 本番用ビルドを実行し、zipファイルを生成
- `npm run copy-frontend-css`: フロントエンド用CSSをコピー
- `npm run plugin-zip`: zipファイルのみを生成（ビルド後）

## 📝 カスタマイズ

### チャートカラーの変更

サイドバーの「チャート設定」パネルからカラーピッカーで色を選択できます。16進数カラーコード（例: #3b82f6）を直接入力することも可能です。

### 項目の追加・削除

- **追加**: 「項目を追加（最大7項目）」ボタンをクリック
- **削除**: 各項目の「削除」ボタンをクリック（最小5項目を維持）

## 🐛 トラブルシューティング

### ブロックが表示されない場合

1. プラグインが有効化されているか確認
2. ブラウザのコンソールでエラーを確認
3. WordPressのデバッグログを確認
4. `build/block.json` が存在するか確認
5. ブラウザのキャッシュをクリア

### チャートが表示されない場合

1. Chart.jsが正しく読み込まれているか確認（ブラウザの開発者ツール）
2. 最小5項目が設定されているか確認
3. JavaScriptエラーがないか確認

### ビルドエラーが発生する場合

1. `npm install` を再実行
2. `node_modules` を削除して再インストール
3. Node.jsのバージョンを確認（16以上推奨）

## 📄 ライセンス

GPL-2.0-or-later

## 🔗 関連リンク

- [WordPress公式サイト](https://wordpress.org/)
- [Gutenberg Handbook](https://developer.wordpress.org/block-editor/)
- [Chart.js公式サイト](https://www.chartjs.org/)

## 📧 サポート

問題が発生した場合は、GitHubのIssuesで報告してください。
